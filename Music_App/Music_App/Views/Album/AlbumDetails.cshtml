@using System.Globalization;
@model Music_App.Models.ViewModels.AlbumDetailsViewModel
@{
    ViewData["Title"] = $"Album_details";
}

@* Define-Element: Songs GUI Container *@
<div id="albumDetail-root-@(ViewData["Title"])" class="container">

    @* Define-Element: Content descriptive Title*@
    <h2 id="content-title-@(ViewData["Title"])">@(Model.Album.Title)</h2>

    @* Define-Element: Album title, artist and rating Head Section*@
    <div id="albumInfo-root-@(ViewData["Title"])" class="d-flex mb-3">
        <img id="albumImg-@(Model.Album.Title)" class="img-fluid" style="max-width:100px" src="@Model.Album.ImageURL" alt="Image of the album cover" onerror="this.src='/img/default_image.jpg'">
        <div id="albumTextInfo-root-@(Model.Album.Title)" class="d-flex flex-column justify-content-between mx-3">
            <p id="card-album-title-@(Model.Album.Title)" class="m-0">
                <strong class="m-0">Title:</strong> @Model.Album.Title
            </p>
            <p id="card-album-artist-@(Model.Album.Title)" class="m-0">
                <strong class="m-0">Artist:</strong> @Model.Album.Artist
            </p>
            <p id="card-album-artist-@(Model.Album.Title)" class="m-0">
                <strong class="m-0">Rating:</strong> @Model.Album.Rating.ToString(new CultureInfo("fr-BE")) / 5
            </p>
        </div>
    </div>

    @* Define-Element: Listgroup *@
    <ul class="list-group">

        @* Logic: Iterate all songs *@
        @for (int i = 0; i < Model.Album.Songs.Count; i++)
        {
            @* Logic: Define backing variable(s) *@
            Song currentSong = Model.Album.Songs[i];
            String secondsToStringified = $"{currentSong.Length / 60}:{currentSong.Length % 60}";

            @* Define-Element: Song listgroup Item *@
            <li class="list-group-item border-0 border-bottom">
                <div class="row">
                    <div class="col-sm-10">
                    <i class="bi bi-music-note-list"></i>
                    @currentSong.Title
                </div>
                <div class="col-sm-2">@secondsToStringified</div>
                </div>
            </li>
        }
    </ul>
</div>